{% extends 'template_wizard/_wizard_main_layout.html' %}
{% load i18n %}
{% load static %}
{% load rules %}

{% block wizard_page_css %}
  <link rel="stylesheet" href="{% static 'template_wizard/style.css' %}">
{% endblock %}

{% block wizard_breadcrumb_extra %}
  <li class="breadcrumb-item">
    <a href="{{ request.path }}">{{ session.template.name_auto }}</a>
  </li>
{% endblock %}

{% block wizard_content_header %}
  <h2 class="mb-2 px-4 mt-2">
    <a href="{% url 'template_wizard:index' %}"
       class="text-body text-decoration-none">{% trans "Template Wizard" %}</a>{% trans ":" %} {{ session.template.name_auto }}
  </h2>
  <p class="mx-4 mb-4">{% trans "Upload documents or enter URLs to transform into the selected template." %}</p>
{% endblock %}

{% block wizard_tabs %}
  {% include "template_wizard/_use_template_tabs.html" with wizard_step="fill_template" %}
{% endblock %}

{% block wizard_step_content %}
  <div class="tab-pane fade show active p-3 border rounded preset-form-container">
    <div class="row">
      <div class="col-lg-5" id="session-status">{% include "template_wizard/use_template/session_status.html" %}</div>
      <div class="col-lg-7" id="preview-result"></div>
    </div>
    <div class="d-flex justify-content-end mt-3">
      <a id="next-step-button"
         class="btn btn-secondary"
         href="{% url 'template_wizard:index' %}">{% trans "Start over" %}</a>
    </div>
  </div>
{% endblock %}

{% block wizard_page_script %}{% endblock %}

{% block content_container %}
  {{ block.super }}
  <div id="session_status_poller"></div>
{% endblock %}
