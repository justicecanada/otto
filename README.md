# Repository Coverage

[Full report](https://htmlpreview.github.io/?https://github.com/justicecanada/otto/blob/python-coverage-comment-action-data/htmlcov/index.html)

| Name                                                                          |    Stmts |     Miss |   Cover |   Missing |
|------------------------------------------------------------------------------ | -------: | -------: | ------: | --------: |
| django/cache\_tiktoken.py                                                     |        8 |        8 |      0% |      1-17 |
| django/chat/\_\_init\_\_.py                                                   |        0 |        0 |    100% |           |
| django/chat/admin.py                                                          |        1 |        1 |      0% |         1 |
| django/chat/apps.py                                                           |        4 |        0 |    100% |           |
| django/chat/forms.py                                                          |      162 |       20 |     88% |42, 49, 106, 139-148, 156-170, 189, 234, 242, 413, 415-417, 497-499 |
| django/chat/llm.py                                                            |      101 |       13 |     87% |71, 90-92, 98-100, 124-130, 252 |
| django/chat/migrations/0001\_initial.py                                       |        6 |        0 |    100% |           |
| django/chat/migrations/0002\_initial.py                                       |        6 |        0 |    100% |           |
| django/chat/migrations/0003\_initial.py                                       |        7 |        0 |    100% |           |
| django/chat/migrations/0004\_alter\_message\_options.py                       |        4 |        0 |    100% |           |
| django/chat/migrations/\_\_init\_\_.py                                        |        0 |        0 |    100% |           |
| django/chat/models.py                                                         |      325 |       32 |     90% |31, 80, 218-221, 226-232, 240, 360, 377-378, 382-386, 393, 398, 404-405, 408, 436, 456, 519, 523-525, 548, 586, 596 |
| django/chat/prompts.py                                                        |        5 |        0 |    100% |           |
| django/chat/responses.py                                                      |      306 |       87 |     72% |74, 112, 210, 264, 270-290, 358-359, 364-397, 400-430, 472, 478-488, 538, 584-618, 624-628, 687, 714, 718, 759-760 |
| django/chat/tasks.py                                                          |       71 |       16 |     77% |22-30, 92-93, 96-101 |
| django/chat/templatetags/\_\_init\_\_.py                                      |        0 |        0 |    100% |           |
| django/chat/templatetags/chat\_tags.py                                        |        5 |        0 |    100% |           |
| django/chat/urls.py                                                           |        6 |        0 |    100% |           |
| django/chat/utils.py                                                          |      361 |       58 |     84% |125, 137-138, 150-154, 198, 217, 219-220, 232-248, 256-257, 264-265, 300-316, 347-349, 364-366, 388, 460, 462, 479, 533-540, 548, 565-569, 605-615, 622, 810-811 |
| django/chat/views.py                                                          |      442 |       63 |     86% |90-92, 130, 158-160, 163-165, 189, 206-213, 219, 314-318, 404, 424-444, 470-472, 524, 527, 593, 606, 641-642, 695-703, 789-805, 815-816, 825-828, 866-875, 881-886 |
| django/import\_timer.py                                                       |        6 |        6 |      0% |       1-8 |
| django/laws/\_\_init\_\_.py                                                   |        0 |        0 |    100% |           |
| django/laws/admin.py                                                          |        1 |        1 |      0% |         1 |
| django/laws/apps.py                                                           |        4 |        0 |    100% |           |
| django/laws/forms.py                                                          |       54 |        6 |     89% |24-29, 38, 52-57, 66 |
| django/laws/management/commands/load\_laws\_xml.py                            |      463 |      121 |     74% |29, 33-62, 77, 88-90, 106-109, 119-123, 151, 180, 241, 259, 261, 263, 282, 285, 287, 302-303, 305-306, 403-406, 416-434, 460-464, 476, 502, 554-555, 596-598, 714-720, 738-739, 741, 749, 789, 791, 809-812, 850-852, 855-857, 886-888, 890-892, 894-896, 898-900, 953-955, 972-974, 992-998, 1046-1057, 1062, 1075-1076, 1101-1107 |
| django/laws/migrations/0001\_initial.py                                       |        5 |        0 |    100% |           |
| django/laws/migrations/0002\_law\_laws\_law\_title\_797cd1\_idx\_and\_more.py |        4 |        0 |    100% |           |
| django/laws/migrations/\_\_init\_\_.py                                        |        0 |        0 |    100% |           |
| django/laws/models.py                                                         |      106 |       22 |     79% |42-46, 90, 115-118, 152, 156-164, 168-169 |
| django/laws/prompts.py                                                        |        2 |        0 |    100% |           |
| django/laws/translation.py                                                    |        5 |        0 |    100% |           |
| django/laws/urls.py                                                           |        4 |        0 |    100% |           |
| django/laws/utils.py                                                          |       71 |       11 |     85% |37, 62-67, 78, 94-96 |
| django/laws/views.py                                                          |      216 |       29 |     87% |71, 75, 92, 105, 122, 152-159, 169, 204, 221, 243, 286, 288, 293-295, 307, 311, 337, 345, 353, 362, 366, 373-378, 441-449 |
| django/librarian/\_\_init\_\_.py                                              |        0 |        0 |    100% |           |
| django/librarian/admin.py                                                     |        5 |        5 |      0% |       1-7 |
| django/librarian/apps.py                                                      |        4 |        0 |    100% |           |
| django/librarian/forms.py                                                     |      101 |        5 |     95% |125-126, 211, 215, 229 |
| django/librarian/migrations/0001\_initial.py                                  |        7 |        0 |    100% |           |
| django/librarian/migrations/0002\_initial.py                                  |        7 |        0 |    100% |           |
| django/librarian/migrations/\_\_init\_\_.py                                   |        0 |        0 |    100% |           |
| django/librarian/models.py                                                    |      330 |       48 |     85% |53-55, 123, 125, 133, 135, 137, 147, 172-174, 192, 196, 250, 312-313, 318, 329-332, 405, 422-431, 435, 453, 481-483, 493-494, 500, 516, 542-543, 553-554, 564-565, 578-579 |
| django/librarian/tasks.py                                                     |      113 |       39 |     65% |42-75, 82, 92, 105, 115, 135, 157-159, 170-173, 192-193 |
| django/librarian/translation.py                                               |        8 |        0 |    100% |           |
| django/librarian/urls.py                                                      |        4 |        0 |    100% |           |
| django/librarian/utils/markdown\_splitter.py                                  |      183 |       10 |     95% |72, 75-77, 88, 123, 137, 260, 270, 277 |
| django/librarian/utils/process\_engine.py                                     |      441 |       57 |     87% |44-46, 51, 147, 152, 162-163, 167, 173, 176, 183, 185, 187, 189, 195, 197, 199, 246, 259, 271-272, 285-294, 296-298, 343-349, 386, 410, 426-428, 477-481, 487-491, 495, 543-544, 578, 665, 687 |
| django/librarian/views.py                                                     |      304 |       38 |     88% |71-92, 98, 126-148, 181, 241-242, 247, 311-312, 331, 338-340, 458, 463 |
| django/manage.py                                                              |       11 |       11 |      0% |      3-23 |
| django/otto/\_\_init\_\_.py                                                   |        2 |        0 |    100% |           |
| django/otto/admin.py                                                          |        0 |        0 |    100% |           |
| django/otto/asgi.py                                                           |        8 |        8 |      0% |     10-24 |
| django/otto/celery.py                                                         |       16 |        1 |     94% |        78 |
| django/otto/context\_processors.py                                            |       11 |        4 |     64% |     10-14 |
| django/otto/forms.py                                                          |       68 |        4 |     94% |72, 74, 202-203 |
| django/otto/management/commands/delete\_empty\_chats.py                       |       19 |        1 |     95% |        29 |
| django/otto/management/commands/delete\_old\_chats.py                         |       21 |        2 |     90% |    32, 36 |
| django/otto/management/commands/delete\_text\_extractor\_files.py             |       18 |        0 |    100% |           |
| django/otto/management/commands/delete\_translation\_files.py                 |       27 |        0 |    100% |           |
| django/otto/management/commands/delete\_unused\_libraries.py                  |       21 |        2 |     90% |    32, 36 |
| django/otto/management/commands/reset\_app\_data.py                           |      122 |       18 |     85% |70-75, 90, 107-112, 132-137, 151-152, 157-160, 175-180, 191 |
| django/otto/management/commands/test\_laws\_query.py                          |       52 |       38 |     27% |18-121, 128-135 |
| django/otto/management/commands/update\_exchange\_rate.py                     |       19 |        0 |    100% |           |
| django/otto/management/commands/warn\_libraries\_pending\_deletion.py         |       26 |        3 |     88% |     29-33 |
| django/otto/migrations/0001\_initial.py                                       |        8 |        0 |    100% |           |
| django/otto/migrations/\_\_init\_\_.py                                        |        0 |        0 |    100% |           |
| django/otto/models.py                                                         |      281 |       30 |     89% |28-30, 83-86, 119, 123-126, 161, 200, 203, 219, 240, 258, 375, 378, 432, 439, 467, 471, 478, 484, 533-534, 548, 552, 556, 578 |
| django/otto/rules.py                                                          |      157 |       18 |     89% |26, 41, 48, 50, 100-102, 107-109, 114-116, 145, 211-213, 249 |
| django/otto/secure\_models.py                                                 |      248 |       91 |     63% |21-22, 61, 86-100, 129-130, 135-136, 149-154, 183-224, 248, 268-269, 307, 337, 350, 359, 378, 393, 398, 403, 409-415, 418, 423, 437, 442, 447, 454-482, 485-486, 491-498, 501-502, 508-522, 536-537, 542-552, 557-558, 561-562 |
| django/otto/settings.py                                                       |      163 |       23 |     86% |38-41, 51-52, 220-229, 299, 312, 369-376, 408, 498-499 |
| django/otto/tasks.py                                                          |       43 |        7 |     84% |11, 16, 38, 58, 71-73 |
| django/otto/templatetags/\_\_init\_\_.py                                      |        0 |        0 |    100% |           |
| django/otto/templatetags/filters.py                                           |       10 |        1 |     90% |         8 |
| django/otto/templatetags/tags.py                                              |       10 |        1 |     90% |        18 |
| django/otto/translation.py                                                    |       17 |        0 |    100% |           |
| django/otto/urls.py                                                           |       13 |        2 |     85% |   95, 100 |
| django/otto/utils/auth.py                                                     |       36 |        6 |     83% |     18-32 |
| django/otto/utils/common.py                                                   |       57 |        1 |     98% |        94 |
| django/otto/utils/decorators.py                                               |       62 |        4 |     94% |24-25, 65, 87 |
| django/otto/utils/logging.py                                                  |       15 |        0 |    100% |           |
| django/otto/utils/middleware.py                                               |       17 |        1 |     94% |        23 |
| django/otto/views.py                                                          |      541 |      111 |     79% |59, 64, 69-83, 123, 132-142, 154, 275, 375, 427-430, 446-447, 471, 481-484, 513-523, 535-540, 543, 552, 554-557, 559-560, 562-565, 588, 596, 605, 621-632, 738-739, 770, 772, 774, 788, 790, 797-798, 801-804, 814-820, 830, 832, 834, 839-859, 898, 907-916, 1013, 1044, 1077-1100 |
| django/otto/wsgi.py                                                           |        4 |        4 |      0% |     10-16 |
| django/postgres\_wrapper/\_\_init\_\_.py                                      |        0 |        0 |    100% |           |
| django/postgres\_wrapper/base.py                                              |        6 |        0 |    100% |           |
| django/tests/\_\_init\_\_.py                                                  |        0 |        0 |    100% |           |
| django/tests/chat/test\_answer\_sources.py                                    |       39 |        0 |    100% |           |
| django/tests/chat/test\_chat\_models.py                                       |       36 |        1 |     97% |        48 |
| django/tests/chat/test\_chat\_options.py                                      |      121 |        2 |     98% |   182-183 |
| django/tests/chat/test\_chat\_procs.py                                        |      242 |        0 |    100% |           |
| django/tests/chat/test\_chat\_readonly.py                                     |       33 |        0 |    100% |           |
| django/tests/chat/test\_chat\_translate.py                                    |       37 |        0 |    100% |           |
| django/tests/chat/test\_chat\_views.py                                        |      653 |       12 |     98% |31, 581-599 |
| django/tests/conftest.py                                                      |      170 |        5 |     97% |36, 210, 240-244 |
| django/tests/laws/conftest.py                                                 |        9 |        0 |    100% |           |
| django/tests/laws/test\_laws\_utils.py                                        |       45 |        0 |    100% |           |
| django/tests/laws/test\_laws\_views.py                                        |       48 |        0 |    100% |           |
| django/tests/librarian/test\_document\_loading.py                             |      179 |        0 |    100% |           |
| django/tests/librarian/test\_librarian.py                                     |      277 |        0 |    100% |           |
| django/tests/librarian/test\_markdown\_splitter.py                            |      282 |        0 |    100% |           |
| django/tests/otto/test\_budget.py                                             |       37 |        0 |    100% |           |
| django/tests/otto/test\_cleanup.py                                            |      306 |        0 |    100% |           |
| django/tests/otto/test\_commands\_delete\_translation\_files.py               |       36 |        0 |    100% |           |
| django/tests/otto/test\_exchange\_rate\_update.py                             |       11 |        0 |    100% |           |
| django/tests/otto/test\_feedback\_dashboard.py                                |      109 |        0 |    100% |           |
| django/tests/otto/test\_load\_test.py                                         |       64 |        0 |    100% |           |
| django/tests/otto/test\_manage\_users.py                                      |      130 |        0 |    100% |           |
| django/tests/otto/test\_otto\_forms.py                                        |       11 |        0 |    100% |           |
| django/tests/otto/test\_otto\_models.py                                       |       37 |        0 |    100% |           |
| django/tests/otto/test\_otto\_views.py                                        |       63 |        0 |    100% |           |
| django/tests/otto/test\_utils\_common.py                                      |       13 |        0 |    100% |           |
| django/tests/otto/test\_utils\_middleware.py                                  |       35 |        0 |    100% |           |
| django/tests/settings.py                                                      |        0 |        0 |    100% |           |
| django/tests/template\_wizard/test\_template\_wizard\_views.py                |       19 |        0 |    100% |           |
| django/tests/text\_extractor/test\_tasks.py                                   |       39 |        0 |    100% |           |
| django/tests/text\_extractor/test\_utils.py                                   |      106 |        0 |    100% |           |
| django/tests/text\_extractor/test\_views.py                                   |       95 |        2 |     98% |  150, 161 |
| django/text\_extractor/\_\_init\_\_.py                                        |        0 |        0 |    100% |           |
| django/text\_extractor/admin.py                                               |        1 |        1 |      0% |         1 |
| django/text\_extractor/apps.py                                                |       11 |        1 |     91% |        21 |
| django/text\_extractor/migrations/0001\_initial.py                            |        6 |        0 |    100% |           |
| django/text\_extractor/migrations/\_\_init\_\_.py                             |        0 |        0 |    100% |           |
| django/text\_extractor/models.py                                              |       17 |        1 |     94% |        28 |
| django/text\_extractor/tasks.py                                               |       18 |        2 |     89% |     34-35 |
| django/text\_extractor/urls.py                                                |        4 |        0 |    100% |           |
| django/text\_extractor/utils.py                                               |      211 |       42 |     80% |57-80, 115-116, 164-166, 184, 295-297, 351-355, 362-363, 369, 375-379 |
| django/text\_extractor/views.py                                               |      108 |       21 |     81% |41, 59-74, 84, 98-106, 119-125, 142, 146, 163, 173, 193-194 |
|                                                                     **TOTAL** | **10055** | **1178** | **88%** |           |


## Setup coverage badge

Below are examples of the badges you can use in your main branch `README` file.

### Direct image

[![Coverage badge](https://raw.githubusercontent.com/justicecanada/otto/python-coverage-comment-action-data/badge.svg)](https://htmlpreview.github.io/?https://github.com/justicecanada/otto/blob/python-coverage-comment-action-data/htmlcov/index.html)

This is the one to use if your repository is private or if you don't want to customize anything.

### [Shields.io](https://shields.io) Json Endpoint

[![Coverage badge](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/justicecanada/otto/python-coverage-comment-action-data/endpoint.json)](https://htmlpreview.github.io/?https://github.com/justicecanada/otto/blob/python-coverage-comment-action-data/htmlcov/index.html)

Using this one will allow you to [customize](https://shields.io/endpoint) the look of your badge.
It won't work with private repositories. It won't be refreshed more than once per five minutes.

### [Shields.io](https://shields.io) Dynamic Badge

[![Coverage badge](https://img.shields.io/badge/dynamic/json?color=brightgreen&label=coverage&query=%24.message&url=https%3A%2F%2Fraw.githubusercontent.com%2Fjusticecanada%2Fotto%2Fpython-coverage-comment-action-data%2Fendpoint.json)](https://htmlpreview.github.io/?https://github.com/justicecanada/otto/blob/python-coverage-comment-action-data/htmlcov/index.html)

This one will always be the same color. It won't work for private repos. I'm not even sure why we included it.

## What is that?

This branch is part of the
[python-coverage-comment-action](https://github.com/marketplace/actions/python-coverage-comment)
GitHub Action. All the files in this branch are automatically generated and may be
overwritten at any moment.